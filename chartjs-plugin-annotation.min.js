/*!
 * chartjs-plugin-annotation.js
 * http://chartjs.org/
 * Version: 0.3.0
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/Chart.Annotation.js/blob/master/LICENSE.md
 */
!function t(e,a,o){function n(r,i){if(!a[r]){if(!e[r]){var d="function"==typeof require&&require;if(!i&&d)return d(r,!0);if(l)return l(r,!0);var s=new Error("Cannot find module '"+r+"'");throw s.code="MODULE_NOT_FOUND",s}var b=a[r]={exports:{}};e[r][0].call(b.exports,function(t){var a=e[r][1][t];return n(a?a:t)},b,b.exports,t,e,a,o)}return a[r].exports}for(var l="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,a){},{}],2:[function(t,e,a){e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function a(t,a,o){var n,l,r=t._model=t._model||{},i=o.scales[a.xScaleID],d=o.scales[a.yScaleID],s=o.chartArea,b=s.left,u=s.top,f=s.right,c=s.bottom;i&&(n=e(a.xMin)?i.getPixelForValue(a.xMin):s.left,l=e(a.xMax)?i.getPixelForValue(a.xMax):s.right,b=Math.min(n,l),f=Math.max(n,l)),d&&(n=e(a.yMin)?d.getPixelForValue(a.yMin):s.bottom,l=e(a.yMax)?d.getPixelForValue(a.yMax):s.top,u=Math.min(n,l),c=Math.max(n,l)),r.left=b,r.top=u,r.right=f,r.bottom=c,r.borderColor=a.borderColor,r.borderWidth=a.borderWidth,r.backgroundColor=a.backgroundColor}var o=t.Element.extend({draw:function(t){var e=this._view;t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.fillStyle=e.backgroundColor;var a=e.right-e.left,o=e.bottom-e.top;t.fillRect(e.left,e.top,a,o),t.strokeRect(e.left,e.top,a,o)}});return{Constructor:o,update:a}}},{}],3:[function(t,e,a){function o(t,e,a){var o=e.options.annotation;if(o.drawTime==t){var n=e._annotationObjects;if(r(n)){var l=e.chart.ctx;n.forEach(function(t){t.transition(a).draw(l)})}}}var n=t("chart.js");n="function"==typeof n?n:window.Chart;var l=n.helpers,r=l.isArray;n.Annotation=n.Annotation||{},n.Annotation.defaults={drawTime:"afterDraw",annotations:[]};var i=t("./line.js")(n),d=t("./box.js")(n);n.Annotation.annotationTypes={line:i.Constructor,box:d.Constructor},n.Annotation.updateFunctions={line:i.update,box:d.update},n.Annotation.drawTimeOptions={afterDraw:"afterDraw",afterDatasetsDraw:"afterDatasetsDraw",beforeDatasetsDraw:"beforeDatasetsDraw"};var s={beforeInit:function(t){var e=t.options;e.annotation=l.configMerge(n.Annotation.defaults,e.annotation);var a={backgroundColor:"rgba(0,0,0,0.8)",fontFamily:e.defaultFontFamily,fontSize:e.defaultFontSize,fontStyle:"bold",fontColor:"#fff",xPadding:6,yPadding:6,cornerRadius:6,position:"center",xAdjust:0,yAdjust:0,enabled:!1,content:null},o=e.annotation.annotations;if(r(o)){var i=t._annotationObjects=[];o.forEach(function(t,e){t.label=l.configMerge(a,t.label);var o=n.Annotation.annotationTypes[t.type];o&&i.push(new o({_index:e}))})}},afterScaleUpdate:function(t){var e=t._annotationObjects,a=t.options.annotation;r(e)&&e.forEach(function(e){var o=a.annotations[e._index],l=n.Annotation.updateFunctions[o.type];l&&l(e,o,t)})},afterDraw:function(t,e){o(n.Annotation.drawTimeOptions.afterDraw,t,e)},afterDatasetsDraw:function(t,e){o(n.Annotation.drawTimeOptions.afterDatasetsDraw,t,e)},beforeDatasetsDraw:function(t,e){o(n.Annotation.drawTimeOptions.beforeDatasetsDraw,t,e)}};e.exports=s,n.pluginService.register(s)},{"./box.js":2,"./line.js":4,"chart.js":1}],4:[function(t,e,a){var o=t("chart.js");o="function"==typeof o?o:window.Chart;var n=o.helpers;e.exports=function(t){function e(t){return!isNaN(t)&&isFinite(t)}function a(t,e,a,o,n){var i=(t.x2-t.x1)/(t.y2-t.y1),d=t.x1||0,s=function(e){return i*(e-t.y1)+d},b=function(e){return(e-d)/i+t.y1},u={},f=0,c=0;switch(!0){case t.mode==r&&"top"==t.labelPosition:c=n+t.labelYAdjust,f=e/2+t.labelXAdjust,u.y=t.y1+c,u.x=(isFinite(i)?s(u.y):t.x1)-f;break;case t.mode==r&&"bottom"==t.labelPosition:c=a+n+t.labelYAdjust,f=e/2+t.labelXAdjust,u.y=t.y2-c,u.x=(isFinite(i)?s(u.y):t.x1)-f;break;case t.mode==l&&"left"==t.labelPosition:f=o+t.labelXAdjust,c=-(a/2)+t.labelYAdjust,u.x=t.x1+f,u.y=b(u.x)+c;break;case t.mode==l&&"right"==t.labelPosition:f=e+o+t.labelXAdjust,c=-(a/2)+t.labelYAdjust,u.x=t.x2-f,u.y=b(u.x)+c;break;default:u.x=(t.x1+t.x2-e)/2+t.labelXAdjust,u.y=(t.y1+t.y2-a)/2+t.labelYAdjust}return u}function o(t,o,r){var i=t._model=n.clone(t._model)||{},d=r.scales[o.scaleID],s=d?d.getPixelForValue(o.value):NaN,b=d&&e(o.endValue)?d.getPixelForValue(o.endValue):NaN;isNaN(b)&&(b=s);var u=r.chartArea,f=r.chart.ctx;isNaN(s)||(o.mode==l?(i.x1=u.left,i.x2=u.right,i.y1=s,i.y2=b):(i.y1=u.top,i.y2=u.bottom,i.x1=s,i.x2=b)),i.mode=o.mode,i.labelBackgroundColor=o.label.backgroundColor,i.labelFontFamily=o.label.fontFamily,i.labelFontSize=o.label.fontSize,i.labelFontStyle=o.label.fontStyle,i.labelFontColor=o.label.fontColor,i.labelXPadding=o.label.xPadding,i.labelYPadding=o.label.yPadding,i.labelCornerRadius=o.label.cornerRadius,i.labelPosition=o.label.position,i.labelXAdjust=o.label.xAdjust,i.labelYAdjust=o.label.yAdjust,i.labelEnabled=o.label.enabled,i.labelContent=o.label.content,f.font=n.fontString(i.labelFontSize,i.labelFontStyle,i.labelFontFamily);var c=f.measureText(i.labelContent).width,x=f.measureText("M").width,h=a(i,c,x,i.labelXPadding,i.labelYPadding);i.labelX=h.x-i.labelXPadding,i.labelY=h.y-i.labelYPadding,i.labelWidth=c+2*i.labelXPadding,i.labelHeight=x+2*i.labelYPadding,i.borderColor=o.borderColor,i.borderWidth=o.borderWidth,i.borderDash=o.borderDash||[],i.borderDashOffset=o.borderDashOffset||0}var l="horizontal",r="vertical",i=t.Element.extend({draw:function(t){var e=this._view;t.save(),t.lineWidth=e.borderWidth,t.strokeStyle=e.borderColor,t.setLineDash&&t.setLineDash(e.borderDash),t.lineDashOffset=e.borderDashOffset,t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke(),t.restore(),e.labelEnabled&&e.labelContent&&(t.fillStyle=e.labelBackgroundColor,n.drawRoundedRectangle(t,e.labelX,e.labelY,e.labelWidth,e.labelHeight,e.labelCornerRadius),t.fill(),t.font=n.fontString(e.labelFontSize,e.labelFontStyle,e.labelFontFamily),t.fillStyle=e.labelFontColor,t.textAlign="center",t.textBaseline="middle",t.fillText(e.labelContent,e.labelX+e.labelWidth/2,e.labelY+e.labelHeight/2))}});return{Constructor:i,update:o}}},{"chart.js":1}]},{},[3]);